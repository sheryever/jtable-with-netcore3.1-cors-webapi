/*! jQuery Validation Plugin - v1.17.0 - 7/29/2017
 * https://jqueryvalidation.org/
 * Copyright (c) 2017 JÃ¶rn Zaefferer; Licensed MIT */
var debugDate;!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget;n(this).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var r,u;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),!i.settings.submitHandler||(u=i.settings.submitHandler.call(i,i.currentForm,t),r&&r.remove(),void 0!==u&&u)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,r;return n(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t;t||(r=r.concat(i.errorList))}),i.errorList=r),t},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(null!=r&&(!r.form&&r.hasAttribute("contenteditable")&&(r.form=this.closest("form")[0],r.name=this.attr("name")),null!=r.form)){if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(n,t){h[t]=f[t];delete f[t]}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u)),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}}});n.extend(n.expr.pseudos||n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){var i=n(t).val();return null!==i&&!!n.trim(""+i)},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||n.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}."),step:n.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=n(this).closest("form")[0],this.name=n(this).attr("name"));var r=n.data(this.form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!n(this).is(i.ignore)&&i[u].call(r,this,t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",i).on("click.validate","select, option, [type='radio'], [type='checkbox']",i);this.settings.invalidHandler&&n(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var e,o,i=this.clean(t),r=this.validationTargetFor(i),u=this,f=!0;return void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=n(r),o=this.groups[r.name],o&&n.each(this.groups,function(n,t){t===o&&n!==r.name&&(i=u.validationTargetFor(u.clean(u.findByName(n))),i&&i.name in u.invalid&&(u.currentElements.push(i),f=u.check(i)&&f))}),e=this.check(r)!==!1,f=f&&e,this.invalid[r.name]=e?!1:!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n(t).attr("aria-invalid",!e)),f},showErrors:function(t){if(t){var i=this;n.extend(this.errorMap,t);this.errorList=n.map(this.errorMap,function(n,t){return{message:n,element:i.findByName(t)[0]}});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(n){var t;if(this.settings.unhighlight)for(t=0;n[t];t++)this.settings.unhighlight.call(this,n[t],this.settings.errorClass,""),this.findByName(n[t].name).removeClass(this.settings.validClass);else n.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t,i=0;for(t in n)void 0!==n[t]&&null!==n[t]&&n[t]!==!1&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text("");this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||n(this).attr("name");return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=n(this).closest("form")[0],this.name=r),!(r in i||!t.objectLength(n(this).rules()))&&(i[r]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([])},reset:function(){this.resetInternals();this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,r,f=n(t),u=t.type;return"radio"===u||"checkbox"===u?this.findByName(t.name).filter(":checked").val():"number"===u&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":f.val():(i=t.hasAttribute("contenteditable")?f.text():f.val(),"file"===u?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(r=i.lastIndexOf("/"),r>=0?i.substr(r+1):(r=i.lastIndexOf("\\"),r>=0?i.substr(r+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var u,f,r,e,i=n(t).rules(),c=n.map(i,function(n,t){return t}).length,h=!1,o=this.elementValue(t);if("function"==typeof i.normalizer?e=i.normalizer:"function"==typeof this.settings.normalizer&&(e=this.settings.normalizer),e){if(o=e.call(t,o),"string"!=typeof o)throw new TypeError("The normalizer should return a string value.");delete i.normalizer}for(f in i){r={method:f,parameters:i[f]};try{if(u=n.validator.methods[f].call(this,o,t,r.parameters),"dependency-mismatch"===u&&1===c){h=!0;continue}if(h=!1,"pending"===u)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!u)return this.formatAndAdd(t,r),!1}catch(s){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",s),s instanceof TypeError&&(s.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),s;}}if(!h)return this.objectLength(i)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n]},defaultMessage:function(t,i){"string"==typeof i&&(i={method:i});var r=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"<\/strong>"),u=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters)),r},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t);this.errorList.push({message:i,element:n,method:t.method});this.errorMap[n.name]=i;this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,s,e,o,r=this.errorsFor(t),h=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement.call(this,u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",h):0===r.parents("label[for='"+this.escapeCssMeta(h)+"']").length&&(e=r.attr("id"),f?f.match(new RegExp("\\b"+this.escapeCssMeta(e)+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),s=this.groups[t.name],s&&(o=this,n.each(o.groups,function(t,i){i===s&&n("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",r.attr("id"))}))));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.escapeCssMeta(this.idOrName(t)),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+this.escapeCssMeta(u).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(n){return n.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return!this.dependTypes[typeof n]||this.dependTypes[typeof n](n,t)},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,n(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];n(t).removeClass(this.settings.pendingClass);i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.submitButton&&n("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return i="string"==typeof i&&i||"remote",n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm();n(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(n,t,i,r){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0));r||0===r?n[i]=r:t===i&&"range"!==t&&(n[i]=!0)},attributeRules:function(t){var r,i,u={},f=n(t),e=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=f.attr(r),this.normalizeAttributeRule(u,e,r,i);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t),e=t.getAttribute("type");for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(u,e,i,r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0===u.param||u.param:(n.data(i.form,"validator").resetElements(n(i)),delete t[r])}}),n.each(t,function(r,u){t[r]=n.isFunction(u)&&"normalizer"!==r?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u<=r},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},step:function(t,i,r){var u,f=n(i).attr("type"),h="Step attribute on input type "+f+" is not supported.",c=new RegExp("\\b"+f+"\\b"),l=f&&!c.test("text,number,range"),e=function(n){var t=(""+n).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},o=function(n){return Math.round(n*Math.pow(10,u))},s=!0;if(l)throw new Error(h);return u=e(r),(e(t)>u||o(t)%o(r)!=0)&&(s=!1),this.optional(i)||s},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.not(".validate-equalTo-blur").length&&u.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r,u){if(this.optional(i))return"dependency-mismatch";u="string"==typeof u&&u||"remote";var f,o,s,e=this.previousValue(i,u);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),e.originalMessage=e.originalMessage||this.settings.messages[i.name][u],this.settings.messages[i.name][u]=e.message,r="string"==typeof r&&{url:r}||r,s=n.param(n.extend({data:t},r.data)),e.old===s?e.valid:(e.old=s,f=this,this.startRequest(i),o={},o[i.name]=t,n.ajax(n.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:f.currentForm,success:function(n){var r,s,h,o=n===!0||"true"===n;f.settings.messages[i.name][u]=e.originalMessage;o?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(i),f.formSubmitted=h,f.successList.push(i),f.invalid[i.name]=!1,f.showErrors()):(r={},s=n||f.defaultMessage(i,{method:u,parameters:t}),r[i.name]=e.message=s,f.invalid[i.name]=!0,f.showErrors(r));e.valid=o;f.stopRequest(i,o)}},r)),"pending")}}});var i,t={};return n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)}),n});!function(n){"function"==typeof define&&define.amd?define("jquery.validate.unobtrusive",["jquery-validation"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery-validation")):jQuery.validator.unobtrusive=n(jQuery)}(function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function e(n){return n.substr(0,n.lastIndexOf(".")+1)}function o(n,t){return 0===n.indexOf("*.")&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+f(i[0].name)+"']"),u=r.attr("data-valmsg-replace"),e=u?n.parseJSON(u)!==!1:null;r.removeClass("field-validation-valid").addClass("field-validation-error");t.data("unobtrusiveContainer",r);e?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),r,u;i&&(r=i.attr("data-valmsg-replace"),u=r?n.parseJSON(r):null,i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),u&&i.empty())}function v(){var t=n(this),i="__jquery_unobtrusive_validation_form_reset";if(!t.data(i)){t.data(i,!0);try{t.data("validator").resetForm()}finally{t.removeData(i)}t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function s(t){var i=n(t),f=i.data(u),s=n.proxy(v,t),e=r.unobtrusive.options||{},o=function(i,r){var u=e[i];u&&n.isFunction(u)&&u.apply(t,r)};return f||(f={options:{errorClass:e.errorClass||"input-validation-error",errorElement:e.errorElement||"span",errorPlacement:function(){c.apply(t,arguments);o("errorPlacement",arguments)},invalidHandler:function(){l.apply(t,arguments);o("invalidHandler",arguments)},messages:{},rules:{},success:function(){a.apply(t,arguments);o("success",arguments)}},attachValidation:function(){i.off("reset."+u,s).on("reset."+u,s).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,f)),f}var t,r=n.validator,u="unobtrusiveValidation";return r.unobtrusive={adapters:[],parseElement:function(t,i){var r,u,o,f=n(t),e=f.parents("form")[0];e&&(r=s(e),r.options.rules[t.name]=u={},r.options.messages[t.name]=o={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=f.attr(i),s={};void 0!==r&&(i+="-",n.each(this.params,function(){s[this]=f.attr(i+this)}),this.adapt({element:t,form:e,message:r,params:s,rules:u,messages:o}))}),n.extend(u,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){var i=n(t),u=i.parents().addBack().filter("form").add(i.find("form")).has("[data-val=true]");i.find("[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});u.each(function(){var n=s(this);n&&n.attachValidation()})}},t=r.unobtrusive.adapters,t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this},t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})},t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})},t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})},r.addMethod("__dummy__",function(){return!0}),r.addMethod("regex",function(n,t,i){var r;return!!this.optional(t)||(r=new RegExp(i).exec(n),r&&0===r.index&&r[0].length===n.length)}),r.addMethod("nonalphamin",function(n,t,i){var r;return i&&(r=n.match(/\W/g),r=r&&r.length>=i),r}),r.methods.extension?(t.addSingleVal("accept","mimtype"),t.addSingleVal("extension","extension")):t.addSingleVal("extension","extension","accept"),t.addSingleVal("regex","pattern"),t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),t.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength"),t.add("equalto",["other"],function(t){var r=e(t.element.name),u=t.params.other,s=o(u,r),h=n(t.form).find(":input").filter("[name='"+f(s)+"']")[0];i(t,"equalTo",h)}),t.add("required",function(n){"INPUT"===n.element.tagName.toUpperCase()&&"CHECKBOX"===n.element.type.toUpperCase()||i(n,"required",!0)}),t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=e(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,e){var s=o(e,u);r.data[s]=function(){var i=n(t.form).find(":input").filter("[name='"+f(s)+"']");return i.is(":checkbox")?i.filter(":checked").val()||i.filter(":hidden").val()||"":i.is(":radio")?i.filter(":checked").val()||"":i.val()}});i(t,"remote",r)}),t.add("password",["min","nonalphamin","regex"],function(n){n.params.min&&i(n,"minlength",n.params.min);n.params.nonalphamin&&i(n,"nonalphamin",n.params.nonalphamin);n.params.regex&&i(n,"regex",n.params.regex)}),t.add("fileextensions",["extensions"],function(n){i(n,"extension",n.params.extensions)}),n(function(){r.unobtrusive.parse(document)}),r.unobtrusive}),function(n){var t;n(window).on("beforeunload",function(){t=!0});n(window).on("unload",function(){t=!1});n.widget("hik.jtable",{options:{actions:{},fields:{},animationsEnabled:!0,defaultDateFormat:"yy-mm-dd",dialogShowEffect:"fade",dialogHideEffect:"fade",showCloseButton:!1,loadingAnimationDelay:500,saveUserPreferences:!0,jqueryuiTheme:!1,unAuthorizedRequestRedirectUrl:null,ajaxSettings:{type:"POST",dataType:"json"},toolbar:{hoverAnimation:!0,hoverAnimationDuration:60,hoverAnimationEasing:undefined,items:[]},closeRequested:function(){},formCreated:function(){},formSubmitting:function(){},formClosed:function(){},loadingRecords:function(){},recordsLoaded:function(){},rowInserted:function(){},rowsRemoved:function(){},messages:{serverCommunicationError:"An error occured while communicating to the server.",loadingMessage:"Loading records...",noDataAvailable:"No data available!",areYouSure:"Are you sure?",save:"Save",saving:"Saving",cancel:"Cancel",error:"Error",close:"Close",cannotLoadOptionsFor:"Can not load options for field {0}"}},_$mainContainer:null,_$titleDiv:null,_$toolbarDiv:null,_$table:null,_$tableBody:null,_$tableRows:null,_$busyDiv:null,_$busyMessageDiv:null,_$errorDialogDiv:null,_columnList:null,_fieldList:null,_keyField:null,_firstDataColumnOffset:0,_lastPostData:null,_cache:null,_create:function(){this._normalizeFieldsOptions();this._initializeFields();this._createFieldAndColumnList();this._createMainContainer();this._createTableTitle();this._createToolBar();this._createTable();this._createBusyPanel();this._createErrorDialogDiv();this._addNoDataRow();this._cookieKeyPrefix=this._generateCookieKeyPrefix()},_normalizeFieldsOptions:function(){var t=this;n.each(t.options.fields,function(n,i){t._normalizeFieldOptions(n,i)})},_normalizeFieldOptions:function(t,i){var u,r;if(i.listClass==undefined&&(i.listClass=""),i.inputClass==undefined&&(i.inputClass=""),i.dependsOn&&n.type(i.dependsOn)==="string")for(u=i.dependsOn.split(","),i.dependsOn=[],r=0;r<u.length;r++)i.dependsOn.push(n.trim(u[r]))},_initializeFields:function(){this._lastPostData={};this._$tableRows=[];this._columnList=[];this._fieldList=[];this._cache=[]},_createFieldAndColumnList:function(){var t=this;n.each(t.options.fields,function(n,i){t._fieldList.push(n);i.key==!0&&(t._keyField=n);i.list!=!1&&i.type!="hidden"&&t._columnList.push(n)})},_createMainContainer:function(){this._$mainContainer=n("<div />").addClass("jtable-main-container").appendTo(this.element);this._jqueryuiThemeAddClass(this._$mainContainer,"ui-widget")},_createTableTitle:function(){var t=this,i,r;t.options.title&&(i=n("<div />").addClass("jtable-title").appendTo(t._$mainContainer),t._jqueryuiThemeAddClass(i,"ui-widget-header"),n("<div />").addClass("jtable-title-text").appendTo(i).append(t.options.title),t.options.showCloseButton&&(r=n("<span />").html(t.options.messages.close),n("<button><\/button>").addClass("jtable-command-button jtable-close-button").attr("title",t.options.messages.close).append(r).appendTo(i).click(function(n){n.preventDefault();n.stopPropagation();t._onCloseRequested()})),t._$titleDiv=i)},_createTable:function(){this._$table=n("<table><\/table>").addClass("jtable").appendTo(this._$mainContainer);this.options.tableId&&this._$table.attr("id",this.options.tableId);this._jqueryuiThemeAddClass(this._$table,"ui-widget-content");this._createTableHead();this._createTableBody()},_createTableHead:function(){var t=n("<thead><\/thead>").appendTo(this._$table);this._addRowToTableHead(t)},_addRowToTableHead:function(t){var i=n("<tr><\/tr>").appendTo(t);this._addColumnsToHeaderRow(i)},_addColumnsToHeaderRow:function(n){for(var i,r,t=0;t<this._columnList.length;t++)i=this._columnList[t],r=this._createHeaderCellForField(i,this.options.fields[i]),r.appendTo(n)},_createHeaderCellForField:function(t,i){i.width=i.width||"10%";var u=n("<span />").addClass("jtable-column-header-text").html(i.title),f=n("<div />").addClass("jtable-column-header-container").append(u),r=n("<th><\/th>").addClass("jtable-column-header").addClass(i.listClass).css("width",i.width).data("fieldName",t).append(f);return this._jqueryuiThemeAddClass(r,"ui-state-default"),r},_createEmptyCommandHeader:function(){var t=n("<th><\/th>").addClass("jtable-command-column-header").css("width","1%");return this._jqueryuiThemeAddClass(t,"ui-state-default"),t},_createTableBody:function(){this._$tableBody=n("<tbody><\/tbody>").appendTo(this._$table)},_createBusyPanel:function(){this._$busyMessageDiv=n("<div />").addClass("jtable-busy-message").prependTo(this._$mainContainer);this._$busyDiv=n("<div />").addClass("jtable-busy-panel-background").prependTo(this._$mainContainer);this._jqueryuiThemeAddClass(this._$busyMessageDiv,"ui-widget-header");this._hideBusy()},_createErrorDialogDiv:function(){var t=this;t._$errorDialogDiv=n("<div><\/div>").appendTo(t._$mainContainer);t._$errorDialogDiv.dialog({autoOpen:!1,show:t.options.dialogShowEffect,hide:t.options.dialogHideEffect,modal:!0,title:t.options.messages.error,buttons:[{text:t.options.messages.close,click:function(){t._$errorDialogDiv.dialog("close")}}]})},load:function(n,t){this._lastPostData=n;this._reloadTable(t)},reload:function(n){this._reloadTable(n)},getRowByKey:function(n){for(var t=0;t<this._$tableRows.length;t++)if(n==this._getKeyValueOfRecord(this._$tableRows[t].data("record")))return this._$tableRows[t];return null},destroy:function(){this.element.empty();n.Widget.prototype.destroy.call(this)},_setOption:function(){},_reloadTable:function(t){var i=this,u=function(n){if(i._hideBusy(),n.Result!="OK"){i._showError(n.Message);return}i._removeAllRows("reloading");i._addRecordsToTable(n.Records);i._onRecordsLoaded(n);t&&t()},r,f;i._showBusy(i.options.messages.loadingMessage,i.options.loadingAnimationDelay);i._onLoadingRecords();n.isFunction(i.options.actions.listAction)?(r=i.options.actions.listAction(i._lastPostData,i._createJtParamsForLoading()),i._isDeferredObject(r)?r.done(function(n){u(n)}).fail(function(){i._showError(i.options.messages.serverCommunicationError)}).always(function(){i._hideBusy()}):u(r)):(f=i._createRecordLoadUrl(),i._ajax({url:f,data:i._lastPostData,success:function(n){u(n)},error:function(){i._hideBusy();i._showError(i.options.messages.serverCommunicationError)}}))},_createRecordLoadUrl:function(){return this.options.actions.listAction},_createJtParamsForLoading:function(){return{}},_createRowFromRecord:function(t){var i=n("<tr><\/tr>").addClass("jtable-data-row").attr("data-record-key",this._getKeyValueOfRecord(t)).data("record",t);return this._addCellsToRowUsingRecord(i),i},_addCellsToRowUsingRecord:function(n){for(var i=n.data("record"),t=0;t<this._columnList.length;t++)this._createCellForRecordField(i,this._columnList[t]).appendTo(n)},_createCellForRecordField:function(t,i){return n("<td><\/td>").addClass(this.options.fields[i].listClass).append(this._getDisplayTextForRecordField(t,i))},_addRecordsToTable:function(t){var i=this;n.each(t,function(n,t){i._addRow(i._createRowFromRecord(t))});i._refreshRowStyles()},_addRowToTable:function(n,t,i,r){var u={index:this._normalizeNumber(t,0,this._$tableRows.length,this._$tableRows.length)};i==!0&&(u.isNewRow=!0);r==!1&&(u.animationsEnabled=!1);this._addRow(n,u)},_addRow:function(t,i){i=n.extend({index:this._$tableRows.length,isNewRow:!1,animationsEnabled:!0},i);this._$tableRows.length<=0&&this._removeNoDataRow();i.index=this._normalizeNumber(i.index,0,this._$tableRows.length,this._$tableRows.length);i.index==this._$tableRows.length?(this._$tableBody.append(t),this._$tableRows.push(t)):i.index==0?(this._$tableBody.prepend(t),this._$tableRows.unshift(t)):(this._$tableRows[i.index-1].after(t),this._$tableRows.splice(i.index,0,t));this._onRowInserted(t,i.isNewRow);i.isNewRow&&(this._refreshRowStyles(),this.options.animationsEnabled&&i.animationsEnabled&&this._showNewRowAnimation(t))},_showNewRowAnimation:function(n){var t="jtable-row-created";this.options.jqueryuiTheme&&(t=t+" ui-state-highlight");n.addClass(t,"slow","",function(){n.removeClass(t,5e3)})},_removeRowsFromTable:function(t,i){var r=this;t.length<=0||(t.addClass("jtable-row-removed").remove(),t.each(function(){var t=r._findRowIndex(n(this));t>=0&&r._$tableRows.splice(t,1)}),r._onRowsRemoved(t,i),r._$tableRows.length==0&&r._addNoDataRow(),r._refreshRowStyles())},_findRowIndex:function(n){return this._findIndexInArray(n,this._$tableRows,function(n,t){return n.data("record")==t.data("record")})},_removeAllRows:function(n){if(!(this._$tableRows.length<=0)){var t=this._$tableBody.find("tr.jtable-data-row");this._$tableBody.empty();this._$tableRows=[];this._onRowsRemoved(t,n);this._addNoDataRow()}},_addNoDataRow:function(){if(!(this._$tableBody.find(">tr.jtable-no-data-row").length>0)){var t=n("<tr><\/tr>").addClass("jtable-no-data-row").appendTo(this._$tableBody),i=this._$table.find("thead th").length;n("<td><\/td>").attr("colspan",i).html(this.options.messages.noDataAvailable).appendTo(t)}},_removeNoDataRow:function(){this._$tableBody.find(".jtable-no-data-row").remove()},_refreshRowStyles:function(){for(var n=0;n<this._$tableRows.length;n++)n%2==0?this._$tableRows[n].addClass("jtable-row-even"):this._$tableRows[n].removeClass("jtable-row-even")},_getDisplayTextForRecordField:function(n,t){var i=this.options.fields[t],r=n[t],u;return i.display?i.display({record:n}):i.type=="date"?this._getDisplayTextForDateRecordField(i,r):i.type=="checkbox"?this._getCheckBoxTextForFieldByValue(t,r):i.options?(u=this._getOptionsForField(t,{record:n,value:r,source:"list",dependedValues:this._createDependedValuesUsingRecord(n,i.dependsOn)}),this._findOptionByValue(u,r).DisplayText):r},_createDependedValuesUsingRecord:function(n,t){var r,i;if(!t)return{};for(r={},i=0;i<t.length;i++)r[t[i]]=n[t[i]];return r},_findOptionByValue:function(n,t){for(var i=0;i<n.length;i++)if(n[i].Value==t)return n[i];return{}},_getDisplayTextForDateRecordField:function(t,i){if(!i)return"";var r=t.displayFormat||this.options.defaultDateFormat,u=this._parseDate(i);return n.datepicker.formatDate(r,u)},_getOptionsForField:function(t,i){var e=this.options.fields[t],r=e.options,f,u,o;return n.isFunction(r)&&(i=n.extend(!0,{_cacheCleared:!1,dependedValues:{},clearCache:function(){this._cacheCleared=!0}},i),r=r(i)),typeof r=="string"?(u="options_"+t+"_"+r,i._cacheCleared||!this._cache[u]?(this._cache[u]=this._buildOptionsFromArray(this._downloadOptions(t,r)),this._sortFieldOptions(this._cache[u],e.optionsSorting)):i.value!=undefined&&(o=this._findOptionByValue(this._cache[u],i.value),o.DisplayText==undefined&&(this._cache[u]=this._buildOptionsFromArray(this._downloadOptions(t,r)),this._sortFieldOptions(this._cache[u],e.optionsSorting))),f=this._cache[u]):jQuery.isArray(r)?(f=this._buildOptionsFromArray(r),this._sortFieldOptions(f,e.optionsSorting)):(f=this._buildOptionsArrayFromObject(r),this._sortFieldOptions(f,e.optionsSorting)),f},_downloadOptions:function(n,t){var i=this,r=[];return i._ajax({url:t,async:!1,success:function(n){if(n.Result!="OK"){i._showError(n.Message);return}r=n.Options},error:function(){var t=i._formatString(i.options.messages.cannotLoadOptionsFor,n);i._showError(t)}}),r},_sortFieldOptions:function(t,i){var r,u;t&&t.length&&i&&(r=i.indexOf("value")==0?function(n){return n.Value}:function(n){return n.DisplayText},u=n.type(r(t[0]))=="string"?function(n,t){return r(n).localeCompare(r(t))}:function(n,t){return r(n)-r(t)},i.indexOf("desc")>0?t.sort(function(n,t){return u(t,n)}):t.sort(function(n,t){return u(n,t)}))},_buildOptionsArrayFromObject:function(t){var i=[];return n.each(t,function(n,t){i.push({Value:n,DisplayText:t})}),i},_buildOptionsFromArray:function(t){for(var r=[],i=0;i<t.length;i++)n.isPlainObject(t[i])?r.push(t[i]):r.push({Value:t[i],DisplayText:t[i]});return r},_parseDate:function(n){return n.indexOf("Date")>=0?new Date(parseInt(n.substr(6),10)):n.length==10?new Date(parseInt(n.substr(0,4),10),parseInt(n.substr(5,2),10)-1,parseInt(n.substr(8,2),10)):n.length==19?new Date(parseInt(n.substr(0,4),10),parseInt(n.substr(5,2),10)-1,parseInt(n.substr(8,2,10)),parseInt(n.substr(11,2),10),parseInt(n.substr(14,2),10),parseInt(n.substr(17,2),10)):(this._logWarn("Given date is not properly formatted: "+n),"format error!")},_createToolBar:function(){this._$toolbarDiv=n("<div />").addClass("jtable-toolbar").appendTo(this._$titleDiv);for(var t=0;t<this.options.toolbar.items.length;t++)this._addToolBarItem(this.options.toolbar.items[t])},_addToolBarItem:function(t){var i,f,r,u;return t==undefined||t.text==undefined&&t.icon==undefined?(this._logWarn("Can not add tool bar item since it is not valid!"),this._logWarn(t),null):(i=n("<span><\/span>").addClass("jtable-toolbar-item").appendTo(this._$toolbarDiv),this._jqueryuiThemeAddClass(i,"ui-widget ui-state-default ui-corner-all","ui-state-hover"),t.cssClass&&i.addClass(t.cssClass),t.tooltip&&i.attr("title",t.tooltip),t.icon&&(f=n('<span class="jtable-toolbar-item-icon"><\/span>').appendTo(i),t.icon===!0||n.type(t.icon==="string")&&f.css("background",'url("'+t.icon+'")')),t.text&&n('<span class=""><\/span>').html(t.text).addClass("jtable-toolbar-item-text").appendTo(i),t.click&&i.click(function(){t.click()}),r=undefined,u=undefined,this.options.toolbar.hoverAnimation&&(r=this.options.toolbar.hoverAnimationDuration,u=this.options.toolbar.hoverAnimationEasing),i.hover(function(){i.addClass("jtable-toolbar-item-hover",r,u)},function(){i.removeClass("jtable-toolbar-item-hover",r,u)}),i)},_showError:function(n){this._$errorDialogDiv.html(n).dialog("open")},_setBusyTimer:null,_showBusy:function(n,t){var i=this,r;if(i._$busyDiv.width(i._$mainContainer.width()).height(i._$mainContainer.height()).addClass("jtable-busy-panel-background-invisible").show(),r=function(){i._$busyDiv.removeClass("jtable-busy-panel-background-invisible");i._$busyMessageDiv.html(n).show()},t){if(i._setBusyTimer)return;i._setBusyTimer=setTimeout(r,t)}else r()},_hideBusy:function(){clearTimeout(this._setBusyTimer);this._setBusyTimer=null;this._$busyDiv.hide();this._$busyMessageDiv.html("").hide()},_isBusy:function(){return this._$busyMessageDiv.is(":visible")},_jqueryuiThemeAddClass:function(n,t,i){this.options.jqueryuiTheme&&(n.addClass(t),i&&n.hover(function(){n.addClass(i)},function(){n.removeClass(i)}))},_performAjaxCall:function(n,t,i,r,u){this._ajax({url:n,data:t,async:i,success:r,error:u})},_unAuthorizedRequestHandler:function(){this.options.unAuthorizedRequestRedirectUrl?location.href=this.options.unAuthorizedRequestRedirectUrl:location.reload(!0)},_ajax:function(i){var u=this,r={statusCode:{401:function(){u._unAuthorizedRequestHandler()}}};r=n.extend(r,this.options.ajaxSettings,i);r.success=function(n){n&&n.UnAuthorizedRequest==!0&&u._unAuthorizedRequestHandler();i.success&&i.success(n)};r.error=function(n){if(t){n.abort();return}i.error&&i.error(arguments)};r.complete=function(){i.complete&&i.complete()};n.ajax(r)},_getKeyValueOfRecord:function(n){return n[this._keyField]},_setCookie:function(n,t){n=this._cookieKeyPrefix+n;var i=new Date;i.setDate(i.getDate()+30);document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(t)+"; expires="+i.toUTCString()},_getCookie:function(n){var i,t,r;for(n=this._cookieKeyPrefix+n,i=document.cookie.split("; "),t=0;t<i.length;t++)if(i[t]&&(r=i[t].split("="),r.length==2)&&decodeURIComponent(r[0])===n)return decodeURIComponent(r[1]||"");return null},_generateCookieKeyPrefix:function(){var t=function(n){var t=0,i,r;if(n.length==0)return t;for(i=0;i<n.length;i++)r=n.charCodeAt(i),t=(t<<5)-t+r,t=t&t;return t},n="";return this.options.tableId&&(n=n+this.options.tableId+"#"),n=n+this._columnList.join("$")+"#c"+this._$table.find("thead th").length,"jtable#"+t(n)},_onLoadingRecords:function(){this._trigger("loadingRecords",null,{})},_onRecordsLoaded:function(n){this._trigger("recordsLoaded",null,{records:n.Records,serverResponse:n})},_onRowInserted:function(n,t){this._trigger("rowInserted",null,{row:n,record:n.data("record"),isNewRow:t})},_onRowsRemoved:function(n,t){this._trigger("rowsRemoved",null,{rows:n,reason:t})},_onCloseRequested:function(){this._trigger("closeRequested",null,{})}})}(jQuery),function(n){n.extend(!0,n.hik.jtable.prototype,{_getPropertyOfObject:function(n,t){if(t.indexOf(".")<0)return n[t];var i=t.substring(0,t.indexOf(".")),r=t.substring(t.indexOf(".")+1);return this._getPropertyOfObject(n[i],r)},_setPropertyOfObject:function(n,t,i){if(t.indexOf(".")<0)n[t]=i;else{var r=t.substring(0,t.indexOf(".")),u=t.substring(t.indexOf(".")+1);this._setPropertyOfObject(n[r],u,i)}},_insertToArrayIfDoesNotExists:function(t,i){n.inArray(i,t)<0&&t.push(i)},_findIndexInArray:function(n,t,i){i||(i=function(n,t){return n==t});for(var r=0;r<t.length;r++)if(i(n,t[r]))return r;return-1},_normalizeNumber:function(n,t,i,r){return n==undefined||n==null||isNaN(n)?r:n<t?t:n>i?i:n},_formatString:function(){var t,n,i;if(arguments.length==0)return null;for(t=arguments[0],n=1;n<arguments.length;n++)i="{"+(n-1)+"}",t=t.replace(i,arguments[n]);return t},_isDeferredObject:function(n){return n.then&&n.done&&n.fail},_logDebug:function(n){window.console&&console.log("jTable DEBUG: "+n)},_logInfo:function(n){window.console&&console.log("jTable INFO: "+n)},_logWarn:function(n){window.console&&console.log("jTable WARNING: "+n)},_logError:function(n){window.console&&console.log("jTable ERROR: "+n)}});Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var i=this.length,t=Number(arguments[1])||0;for(t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=i);t<i;t++)if(t in this&&this[t]===n)return t;return-1})}(jQuery),function(n){n.extend(!0,n.hik.jtable.prototype,{_submitFormUsingAjax:function(n,t,i,r){this._ajax({url:n,data:t,success:i,error:r})},_createInputLabelForRecordField:function(t){return n("<div />").addClass("jtable-input-label").html(this.options.fields[t].inputTitle||this.options.fields[t].title)},_createInputForRecordField:function(t){var u=t.fieldName,r=t.value,e=t.record,o=t.formType,s=t.form,i=this.options.fields[u],f;return((r==undefined||r==null)&&(r=i.defaultValue),i.input)?(f=n(i.input({value:r,record:e,formType:o,form:s})),f.attr("id")||f.attr("id","Edit-"+u),n("<div />").addClass("jtable-input jtable-custom-input").append(f)):i.type=="date"?this._createDateInputForField(i,u,r):i.type=="textarea"?this._createTextAreaForField(i,u,r):i.type=="password"?this._createPasswordInputForField(i,u,r):i.type=="checkbox"?this._createCheckboxForField(i,u,r):i.options?i.type=="radiobutton"?this._createRadioButtonListForField(i,u,r,e,o):this._createDropDownListForField(i,u,r,e,o,s):this._createTextInputForField(i,u,r)},_createInputForHidden:function(t,i){return i==undefined&&(i=""),n('<input type="hidden" name="'+t+'" id="Edit-'+t+'"><\/input>').val(i)},_createDateInputForField:function(t,i,r){var u=n('<input class="'+t.inputClass+'" id="Edit-'+i+'" type="text" name="'+i+'"><\/input>'),f;return r!=undefined&&u.val(r),f=t.displayFormat||this.options.defaultDateFormat,u.datepicker({dateFormat:f}),n("<div />").addClass("jtable-input jtable-date-input").append(u)},_createTextAreaForField:function(t,i,r){var u=n('<textarea class="'+t.inputClass+'" id="Edit-'+i+'" name="'+i+'"><\/textarea>');return r!=undefined&&u.val(r),n("<div />").addClass("jtable-input jtable-textarea-input").append(u)},_createTextInputForField:function(t,i,r){var u=n('<input class="'+t.inputClass+'" id="Edit-'+i+'" type="text" name="'+i+'"><\/input>');return r!=undefined&&u.val(r),n("<div />").addClass("jtable-input jtable-text-input").append(u)},_createPasswordInputForField:function(t,i,r){var u=n('<input class="'+t.inputClass+'" id="Edit-'+i+'" type="password" name="'+i+'"><\/input>');return r!=undefined&&u.val(r),n("<div />").addClass("jtable-input jtable-password-input").append(u)},_createCheckboxForField:function(t,i,r){var f=this,e,u,o,s;return r==undefined&&(r=f._getCheckBoxPropertiesForFieldByState(i,!1).Value),e=n("<div />").addClass("jtable-input jtable-checkbox-input"),u=n('<input class="'+t.inputClass+'" id="Edit-'+i+'" type="checkbox" name="'+i+'" />').appendTo(e),r!=undefined&&u.val(r),o=n("<span>"+(t.formText||f._getCheckBoxTextForFieldByValue(i,r))+"<\/span>").appendTo(e),f._getIsCheckBoxSelectedForFieldByValue(i,r)&&u.attr("checked","checked"),s=function(){var n=f._getCheckBoxPropertiesForFieldByState(i,u.is(":checked"));u.attr("value",n.Value);o.html(t.formText||n.DisplayText)},u.click(function(){s()}),t.setOnTextClick!=!1&&o.addClass("jtable-option-text-clickable").click(function(){u.is(":checked")?u.attr("checked",!1):u.attr("checked",!0);s()}),e},_createDropDownListForField:function(t,i,r,u,f,e){var o=n("<div />").addClass("jtable-input jtable-dropdown-input"),s=n('<select class="'+t.inputClass+'" id="Edit-'+i+'" name="'+i+'"><\/select>').appendTo(o),h=this._getOptionsForField(i,{record:u,source:f,form:e,dependedValues:this._createDependedValuesUsingForm(e,t.dependsOn)});return this._fillDropDownListWithOptions(s,h,r),o},_fillDropDownListWithOptions:function(t,i,r){t.empty();for(var u=0;u<i.length;u++)n("<option"+(i[u].Value==r?' selected="selected"':"")+">"+i[u].DisplayText+"<\/option>").val(i[u].Value).appendTo(t)},_createDependedValuesUsingForm:function(n,t){var r,i,u,f;if(!t)return{};for(r={},i=0;i<t.length;i++)(u=t[i],f=n.find("select[name="+u+"]"),f.length<=0)||(r[u]=f.val());return r},_createRadioButtonListForField:function(t,i,r,u,f){var e=n("<div />").addClass("jtable-input jtable-radiobuttonlist-input"),o=this._getOptionsForField(i,{record:u,source:f});return n.each(o,function(u,f){var o=n('<div class=""><\/div>').addClass("jtable-radio-input").appendTo(e),s=n('<input type="radio" id="Edit-'+i+"-"+u+'" class="'+t.inputClass+'" name="'+i+'"'+(f.Value==r+""?' checked="true"':"")+" />").val(f.Value).appendTo(o),h=n("<span><\/span>").html(f.DisplayText).appendTo(o);t.setOnTextClick!=!1&&h.addClass("jtable-option-text-clickable").click(function(){s.is(":checked")||s.attr("checked",!0)})}),e},_getCheckBoxTextForFieldByValue:function(n,t){return this.options.fields[n].values[t]},_getIsCheckBoxSelectedForFieldByValue:function(n,t){return this._createCheckBoxStateArrayForFieldWithCaching(n)[1].Value.toString()==t.toString()},_getCheckBoxPropertiesForFieldByState:function(n,t){return this._createCheckBoxStateArrayForFieldWithCaching(n)[t?1:0]},_createCheckBoxStateArrayForFieldWithCaching:function(n){var t="checkbox_"+n;return this._cache[t]||(this._cache[t]=this._createCheckBoxStateArrayForField(n)),this._cache[t]},_createCheckBoxStateArrayForField:function(t){var i=[],r=0;return n.each(this.options.fields[t].values,function(n,t){r++<2&&i.push({Value:n,DisplayText:t})}),i},_makeCascadeDropDowns:function(t,i,r){var u=this;t.find("select").each(function(){var e=n(this),o=e.attr("name"),f;o&&(f=u.options.fields[o],f.dependsOn)&&n.each(f.dependsOn,function(n,s){var h=t.find("select[name="+s+"]");h.change(function(){var n={record:i,source:r,form:t,dependedValues:{}},s;n.dependedValues=u._createDependedValuesUsingForm(t,f.dependsOn);s=u._getOptionsForField(o,n);u._fillDropDownListWithOptions(e,s,undefined);e.change()})})})},_updateRecordValuesFromForm:function(t,i){for(var r,u,f,o,h,c,s,e=0;e<this._fieldList.length;e++)if((r=this._fieldList[e],u=this.options.fields[r],u.edit!=!1)&&(f=i.find('[name="'+r+'"]'),!(f.length<=0)))if(u.type=="date")if(o=f.val(),o){h=u.displayFormat||this.options.defaultDateFormat;try{c=n.datepicker.parseDate(h,o);t[r]="/Date("+c.getTime()+")/"}catch(l){this._logWarn("Date format is incorrect for field "+r+": "+o);t[r]=undefined}}else this._logDebug("Date is empty for "+r),t[r]=undefined;else u.options&&u.type=="radiobutton"?(s=f.filter(":checked"),t[r]=s.length?s.val():undefined):t[r]=f.val()},_setEnabledOfDialogButton:function(n,t,i){n&&(t!=!1?n.removeAttr("disabled").removeClass("ui-state-disabled"):n.attr("disabled","disabled").addClass("ui-state-disabled"),i&&n.find("span").text(i))}})}(jQuery),function(n){var t={_create:n.hik.jtable.prototype._create};n.extend(!0,n.hik.jtable.prototype,{options:{recordAdded:function(){},messages:{addNewRecord:"Add new record"}},_$addRecordDiv:null,_create:function(){(t._create.apply(this,arguments),this.options.actions.createAction)&&this._createAddRecordDialogDiv()},_createAddRecordDialogDiv:function(){var t=this;t._$addRecordDiv=n("<div />").appendTo(t._$mainContainer);t._$addRecordDiv.dialog({autoOpen:!1,show:t.options.dialogShowEffect,hide:t.options.dialogHideEffect,width:"auto",minWidth:"300",modal:!0,title:t.options.messages.addNewRecord,buttons:[{text:t.options.messages.cancel,click:function(){t._$addRecordDiv.dialog("close")}},{id:"AddRecordDialogSaveButton",text:t.options.messages.save,click:function(){t._onSaveClickedOnCreateForm()}}],close:function(){var n=t._$addRecordDiv.find("form").first(),i=t._$addRecordDiv.parent().find("#AddRecordDialogSaveButton");t._trigger("formClosed",null,{form:n,formType:"create"});t._setEnabledOfDialogButton(i,!0,t.options.messages.save);n.remove()}});t.options.addRecordButton?t.options.addRecordButton.click(function(n){n.preventDefault();t._showAddRecordForm()}):t._addToolBarItem({icon:!0,cssClass:"jtable-toolbar-item-add-record",text:t.options.messages.addNewRecord,click:function(){t._showAddRecordForm()}})},_onSaveClickedOnCreateForm:function(){var n=this,t=n._$addRecordDiv.parent().find("#AddRecordDialogSaveButton"),i=n._$addRecordDiv.find("form");n._trigger("formSubmitting",null,{form:i,formType:"create"})!=!1&&(n._setEnabledOfDialogButton(t,!1,n.options.messages.saving),n._saveAddRecordForm(i,t))},showCreateForm:function(){this._showAddRecordForm()},addRecord:function(t){var i=this,r,u;if(t=n.extend({clientOnly:!1,animationsEnabled:i.options.animationsEnabled,success:function(){},error:function(){}},t),!t.record){i._logWarn("options parameter in addRecord method must contain a record property.");return}if(t.clientOnly){i._addRow(i._createRowFromRecord(t.record),{isNewRow:!0,animationsEnabled:t.animationsEnabled});t.success();return}r=function(n){if(n.Result!="OK"){i._showError(n.Message);t.error(n);return}if(!n.Record){i._logError("Server must return the created Record object.");t.error(n);return}i._onRecordAdded(n);i._addRow(i._createRowFromRecord(n.Record),{isNewRow:!0,animationsEnabled:t.animationsEnabled});t.success(n)};!t.url&&n.isFunction(i.options.actions.createAction)?(u=i.options.actions.createAction(n.param(t.record)),i._isDeferredObject(u)?u.done(function(n){r(n)}).fail(function(){i._showError(i.options.messages.serverCommunicationError);t.error()}):r(u)):i._submitFormUsingAjax(t.url||i.options.actions.createAction,n.param(t.record),function(n){r(n)},function(){i._showError(i.options.messages.serverCommunicationError);t.error()})},_showAddRecordForm:function(){for(var u,r,e,t=this,i=n('<form id="jtable-create-form" class="jtable-dialog-form jtable-create-form"><\/form>'),f=0;f<t._fieldList.length;f++)if((u=t._fieldList[f],r=t.options.fields[u],r.key!=!0||r.create==!0)&&r.create!=!1){if(r.type=="hidden"){i.append(t._createInputForHidden(u,r.defaultValue));continue}e=n("<div />").addClass("jtable-input-field-container").appendTo(i);e.append(t._createInputLabelForRecordField(u));e.append(t._createInputForRecordField({fieldName:u,formType:"create",form:i}))}t._makeCascadeDropDowns(i,undefined,"create");i.submit(function(){return t._onSaveClickedOnCreateForm(),!1});t._$addRecordDiv.append(i).dialog("open");t._trigger("formCreated",null,{form:i,formType:"create"})},_saveAddRecordForm:function(t,i){var r=this,f=function(n){if(n.Result!="OK"){r._showError(n.Message);r._setEnabledOfDialogButton(i,!0,r.options.messages.save);return}if(!n.Record){r._logError("Server must return the created Record object.");r._setEnabledOfDialogButton(i,!0,r.options.messages.save);return}r._onRecordAdded(n);r._addRow(r._createRowFromRecord(n.Record),{isNewRow:!0});r._$addRecordDiv.dialog("close")},u;t.data("submitting",!0);n.isFunction(r.options.actions.createAction)?(u=r.options.actions.createAction(t.serialize()),r._isDeferredObject(u)?u.done(function(n){f(n)}).fail(function(){r._showError(r.options.messages.serverCommunicationError);r._setEnabledOfDialogButton(i,!0,r.options.messages.save)}):f(u)):r._submitFormUsingAjax(r.options.actions.createAction,t.serialize(),function(n){f(n)},function(){r._showError(r.options.messages.serverCommunicationError);r._setEnabledOfDialogButton(i,!0,r.options.messages.save)})},_onRecordAdded:function(n){this._trigger("recordAdded",null,{record:n.Record,serverResponse:n})}})}(jQuery),function(n){var t={_create:n.hik.jtable.prototype._create,_addColumnsToHeaderRow:n.hik.jtable.prototype._addColumnsToHeaderRow,_addCellsToRowUsingRecord:n.hik.jtable.prototype._addCellsToRowUsingRecord};n.extend(!0,n.hik.jtable.prototype,{options:{recordUpdated:function(){},rowUpdated:function(){},messages:{editRecord:"Edit Record"}},_$editDiv:null,_$editingRow:null,_create:function(){(t._create.apply(this,arguments),this.options.actions.updateAction)&&this._createEditDialogDiv()},_createEditDialogDiv:function(){var t=this;t._$editDiv=n("<div><\/div>").appendTo(t._$mainContainer);t._$editDiv.dialog({autoOpen:!1,show:t.options.dialogShowEffect,hide:t.options.dialogHideEffect,width:"auto",minWidth:"300",modal:!0,title:t.options.messages.editRecord,buttons:[{text:t.options.messages.cancel,click:function(){t._$editDiv.dialog("close")}},{id:"EditDialogSaveButton",text:t.options.messages.save,click:function(){t._onSaveClickedOnEditForm()}}],close:function(){var n=t._$editDiv.find("form:first"),i=t._$editDiv.parent().find("#EditDialogSaveButton");t._trigger("formClosed",null,{form:n,formType:"edit",row:t._$editingRow});t._setEnabledOfDialogButton(i,!0,t.options.messages.save);n.remove()}})},_onSaveClickedOnEditForm:function(){var n=this,t,i;if(n._$editingRow.hasClass("jtable-row-removed")){n._$editDiv.dialog("close");return}t=n._$editDiv.parent().find("#EditDialogSaveButton");i=n._$editDiv.find("form");n._trigger("formSubmitting",null,{form:i,formType:"edit",row:n._$editingRow})!=!1&&(n._setEnabledOfDialogButton(t,!1,n.options.messages.saving),n._saveEditForm(i,t))},updateRecord:function(t){var i=this,u,r,f,e;if(t=n.extend({clientOnly:!1,animationsEnabled:i.options.animationsEnabled,success:function(){},error:function(){}},t),!t.record){i._logWarn("options parameter in updateRecord method must contain a record property.");return}if(u=i._getKeyValueOfRecord(t.record),u==undefined||u==null){i._logWarn("options parameter in updateRecord method must contain a record that contains the key field property.");return}if(r=i.getRowByKey(u),r==null){i._logWarn('Can not found any row by key "'+u+'" on the table. Updating row must be visible on the table.');return}if(t.clientOnly){n.extend(r.data("record"),t.record);i._updateRowTexts(r);i._onRecordUpdated(r,null);t.animationsEnabled&&i._showUpdateAnimationForRow(r);t.success();return}f=function(u){if(u.Result!="OK"){i._showError(u.Message);t.error(u);return}n.extend(r.data("record"),t.record);i._updateRecordValuesFromServerResponse(r.data("record"),u);i._updateRowTexts(r);i._onRecordUpdated(r,u);t.animationsEnabled&&i._showUpdateAnimationForRow(r);t.success(u)};!t.url&&n.isFunction(i.options.actions.updateAction)?(e=i.options.actions.updateAction(n.param(t.record)),i._isDeferredObject(e)?e.done(function(n){f(n)}).fail(function(){i._showError(i.options.messages.serverCommunicationError);t.error()}):f(e)):i._submitFormUsingAjax(t.url||i.options.actions.updateAction,n.param(t.record),function(n){f(n)},function(){i._showError(i.options.messages.serverCommunicationError);t.error()})},_addColumnsToHeaderRow:function(n){t._addColumnsToHeaderRow.apply(this,arguments);this.options.actions.updateAction!=undefined&&n.append(this._createEmptyCommandHeader())},_addCellsToRowUsingRecord:function(i){var r=this,u,f;t._addCellsToRowUsingRecord.apply(this,arguments);r.options.actions.updateAction!=undefined&&(u=n("<span><\/span>").html(r.options.messages.editRecord),f=n('<button title="'+r.options.messages.editRecord+'"><\/button>').addClass("jtable-command-button jtable-edit-command-button").append(u).click(function(n){n.preventDefault();n.stopPropagation();r._showEditForm(i)}),n("<td><\/td>").addClass("jtable-command-column").append(f).appendTo(i))},_showEditForm:function(t){for(var h,c,i=this,f=t.data("record"),r=n('<form id="jtable-edit-form" class="jtable-dialog-form jtable-edit-form"><\/form>'),o=0;o<i._fieldList.length;o++){var u=i._fieldList[o],e=i.options.fields[u],s=f[u];if(e.key==!0)if(e.edit!=!0){r.append(i._createInputForHidden(u,s));continue}else r.append(i._createInputForHidden("jtRecordKey",s));if(e.edit!=!1){if(e.type=="hidden"){r.append(i._createInputForHidden(u,s));continue}h=n('<div class="jtable-input-field-container"><\/div>').appendTo(r);h.append(i._createInputLabelForRecordField(u));c=i._getValueForRecordField(f,u);h.append(i._createInputForRecordField({fieldName:u,value:c,record:f,formType:"edit",form:r}))}}i._makeCascadeDropDowns(r,f,"edit");r.submit(function(){return i._onSaveClickedOnEditForm(),!1});i._$editingRow=t;i._$editDiv.append(r).dialog("open");i._trigger("formCreated",null,{form:r,formType:"edit",record:f,row:t})},_saveEditForm:function(t,i){var r=this,f=function(n){if(n.Result!="OK"){r._showError(n.Message);r._setEnabledOfDialogButton(i,!0,r.options.messages.save);return}var u=r._$editingRow.data("record");r._updateRecordValuesFromForm(u,t);r._updateRecordValuesFromServerResponse(u,n);r._updateRowTexts(r._$editingRow);r._$editingRow.attr("data-record-key",r._getKeyValueOfRecord(u));r._onRecordUpdated(r._$editingRow,n);r.options.animationsEnabled&&r._showUpdateAnimationForRow(r._$editingRow);r._$editDiv.dialog("close")},u;n.isFunction(r.options.actions.updateAction)?(u=r.options.actions.updateAction(t.serialize()),r._isDeferredObject(u)?u.done(function(n){f(n)}).fail(function(){r._showError(r.options.messages.serverCommunicationError);r._setEnabledOfDialogButton(i,!0,r.options.messages.save)}):f(u)):r._submitFormUsingAjax(r.options.actions.updateAction,t.serialize(),function(n){f(n)},function(){r._showError(r.options.messages.serverCommunicationError);r._setEnabledOfDialogButton(i,!0,r.options.messages.save)})},_updateRecordValuesFromServerResponse:function(t,i){i&&i.Record&&n.extend(!0,t,i.Record)},_getValueForRecordField:function(n,t){var i=this.options.fields[t],r=n[t];return i.type=="date"?this._getDisplayTextForDateRecordField(i,r):r},_updateRowTexts:function(n){for(var t,r=n.data("record"),u=n.find("td"),i=0;i<this._columnList.length;i++)t=this._getDisplayTextForRecordField(r,this._columnList[i]),t!=""&&t==0&&(t="0"),u.eq(this._firstDataColumnOffset+i).html(t||"");this._onRowUpdated(n)},_showUpdateAnimationForRow:function(n){var t="jtable-row-updated";this.options.jqueryuiTheme&&(t=t+" ui-state-highlight");n.stop(!0,!0).addClass(t,"slow","",function(){n.removeClass(t,5e3)})},_onRowUpdated:function(n){this._trigger("rowUpdated",null,{row:n,record:n.data("record")})},_onRecordUpdated:function(n,t){this._trigger("recordUpdated",null,{record:n.data("record"),row:n,serverResponse:t})}})}(jQuery),function(n){var t={_create:n.hik.jtable.prototype._create,_addColumnsToHeaderRow:n.hik.jtable.prototype._addColumnsToHeaderRow,_addCellsToRowUsingRecord:n.hik.jtable.prototype._addCellsToRowUsingRecord};n.extend(!0,n.hik.jtable.prototype,{options:{deleteConfirmation:!0,recordDeleted:function(){},messages:{deleteConfirmation:"This record will be deleted. Are you sure?",deleteText:"Delete",deleting:"Deleting",canNotDeletedRecords:"Can not delete {0} of {1} records!",deleteProggress:"Deleting {0} of {1} records, processing..."}},_$deleteRecordDiv:null,_$deletingRow:null,_create:function(){t._create.apply(this,arguments);this._createDeleteDialogDiv()},_createDeleteDialogDiv:function(){var t=this;t.options.actions.deleteAction&&(t._$deleteRecordDiv=n('<div><p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"><\/span><span class="jtable-delete-confirm-message"><\/span><\/p><\/div>').appendTo(t._$mainContainer),t._$deleteRecordDiv.dialog({autoOpen:!1,show:t.options.dialogShowEffect,hide:t.options.dialogHideEffect,modal:!0,title:t.options.messages.areYouSure,buttons:[{text:t.options.messages.cancel,click:function(){t._$deleteRecordDiv.dialog("close")}},{id:"DeleteDialogButton",text:t.options.messages.deleteText,click:function(){if(t._$deletingRow.hasClass("jtable-row-removed")){t._$deleteRecordDiv.dialog("close");return}var n=t._$deleteRecordDiv.parent().find("#DeleteDialogButton");t._setEnabledOfDialogButton(n,!1,t.options.messages.deleting);t._deleteRecordFromServer(t._$deletingRow,function(){t._removeRowsFromTableWithAnimation(t._$deletingRow);t._$deleteRecordDiv.dialog("close")},function(i){t._showError(i);t._setEnabledOfDialogButton(n,!0,t.options.messages.deleteText)})}}],close:function(){var n=t._$deleteRecordDiv.parent().find("#DeleteDialogButton");t._setEnabledOfDialogButton(n,!0,t.options.messages.deleteText)}}))},deleteRows:function(t){var i=this;if(t.length<=0){i._logWarn("No rows specified to jTable deleteRows method.");return}if(i._isBusy()){i._logWarn("Can not delete rows since jTable is busy!");return}if(t.length==1){i._deleteRecordFromServer(t,function(){i._removeRowsFromTableWithAnimation(t)},function(n){i._showError(n)});return}i._showBusy(i._formatString(i.options.messages.deleteProggress,0,t.length));var r=0,u=function(){return r>=t.length},f=function(){var n=t.filter(".jtable-row-ready-to-remove");n.length<t.length&&i._showError(i._formatString(i.options.messages.canNotDeletedRecords,t.length-n.length,t.length));n.length>0&&i._removeRowsFromTableWithAnimation(n);i._hideBusy()},e=0;t.each(function(){var o=n(this);i._deleteRecordFromServer(o,function(){++e;++r;o.addClass("jtable-row-ready-to-remove");i._showBusy(i._formatString(i.options.messages.deleteProggress,e,t.length));u()&&f()},function(){++r;u()&&f()})})},deleteRecord:function(t){var i=this,r;if(t=n.extend({clientOnly:!1,animationsEnabled:i.options.animationsEnabled,url:i.options.actions.deleteAction,success:function(){},error:function(){}},t),t.key==undefined){i._logWarn("options parameter in deleteRecord method must contain a key property.");return}if(r=i.getRowByKey(t.key),r==null){i._logWarn("Can not found any row by key: "+t.key);return}if(t.clientOnly){i._removeRowsFromTableWithAnimation(r,t.animationsEnabled);t.success();return}i._deleteRecordFromServer(r,function(n){i._removeRowsFromTableWithAnimation(r,t.animationsEnabled);t.success(n)},function(n){i._showError(n);t.error(n)},t.url)},_addColumnsToHeaderRow:function(n){t._addColumnsToHeaderRow.apply(this,arguments);this.options.actions.deleteAction!=undefined&&n.append(this._createEmptyCommandHeader())},_addCellsToRowUsingRecord:function(i){var r,u,f;t._addCellsToRowUsingRecord.apply(this,arguments);r=this;r.options.actions.deleteAction!=undefined&&(u=n("<span><\/span>").html(r.options.messages.deleteText),f=n('<button title="'+r.options.messages.deleteText+'"><\/button>').addClass("jtable-command-button jtable-delete-command-button").append(u).click(function(n){n.preventDefault();n.stopPropagation();r._deleteButtonClickedForRow(i)}),n("<td><\/td>").addClass("jtable-command-column").append(f).appendTo(i))},_deleteButtonClickedForRow:function(t){var i=this,u,f=i.options.messages.deleteConfirmation,r;if(n.isFunction(i.options.deleteConfirmation)){if(r={row:t,record:t.data("record"),deleteConfirm:!0,deleteConfirmMessage:f,cancel:!1,cancelMessage:null},i.options.deleteConfirmation(r),r.cancel){r.cancelMessage&&i._showError(r.cancelMessage);return}f=r.deleteConfirmMessage;u=r.deleteConfirm}else u=i.options.deleteConfirmation;u!=!1?(i._$deleteRecordDiv.find(".jtable-delete-confirm-message").html(f),i._showDeleteDialog(t)):i._deleteRecordFromServer(t,function(){i._removeRowsFromTableWithAnimation(t)},function(n){i._showError(n)})},_showDeleteDialog:function(n){this._$deletingRow=n;this._$deleteRecordDiv.dialog("open")},_deleteRecordFromServer:function(t,i,r,u){var f=this,s=function(n){if(n.Result!="OK"){t.data("deleting",!1);r&&r(n.Message);return}f._trigger("recordDeleted",null,{record:t.data("record"),row:t,serverResponse:n});i&&i(n)},e,o;t.data("deleting")!=!0&&(t.data("deleting",!0),e={},e[f._keyField]=f._getKeyValueOfRecord(t.data("record")),!u&&n.isFunction(f.options.actions.deleteAction)?(o=f.options.actions.deleteAction(e),f._isDeferredObject(o)?o.done(function(n){s(n)}).fail(function(){t.data("deleting",!1);r&&r(f.options.messages.serverCommunicationError)}):s(o)):this._ajax({url:u||f.options.actions.deleteAction,data:e,success:function(n){s(n)},error:function(){t.data("deleting",!1);r&&r(f.options.messages.serverCommunicationError)}}))},_removeRowsFromTableWithAnimation:function(n,t){var r=this,i;t==undefined&&(t=r.options.animationsEnabled);t?(i="jtable-row-deleting",this.options.jqueryuiTheme&&(i=i+" ui-state-disabled"),n.stop(!0,!0).addClass(i,"slow","").promise().done(function(){r._removeRowsFromTable(n,"deleted")})):r._removeRowsFromTable(n,"deleted")}})}(jQuery),function(n){var t={_create:n.hik.jtable.prototype._create,_addColumnsToHeaderRow:n.hik.jtable.prototype._addColumnsToHeaderRow,_addCellsToRowUsingRecord:n.hik.jtable.prototype._addCellsToRowUsingRecord,_onLoadingRecords:n.hik.jtable.prototype._onLoadingRecords,_onRecordsLoaded:n.hik.jtable.prototype._onRecordsLoaded,_onRowsRemoved:n.hik.jtable.prototype._onRowsRemoved};n.extend(!0,n.hik.jtable.prototype,{options:{selecting:!1,multiselect:!1,selectingCheckboxes:!1,selectOnRowClick:!0,selectionChanged:function(){}},_selectedRecordIdsBeforeLoad:null,_$selectAllCheckbox:null,_shiftKeyDown:!1,_create:function(){this.options.selecting&&this.options.selectingCheckboxes&&(++this._firstDataColumnOffset,this._bindKeyboardEvents());t._create.apply(this,arguments)},_bindKeyboardEvents:function(){var t=this;n(document).keydown(function(n){switch(n.which){case 16:t._shiftKeyDown=!0}}).keyup(function(n){switch(n.which){case 16:t._shiftKeyDown=!1}})},selectedRows:function(){return this._getSelectedRows()},selectRows:function(n){this._selectRows(n);this._onSelectionChanged()},_addColumnsToHeaderRow:function(n){this.options.selecting&&this.options.selectingCheckboxes&&(this.options.multiselect?n.append(this._createSelectAllHeader()):n.append(this._createEmptyCommandHeader()));t._addColumnsToHeaderRow.apply(this,arguments)},_addCellsToRowUsingRecord:function(n){this.options.selecting&&this._makeRowSelectable(n);t._addCellsToRowUsingRecord.apply(this,arguments)},_onLoadingRecords:function(){this.options.selecting&&this._storeSelectionList();t._onLoadingRecords.apply(this,arguments)},_onRecordsLoaded:function(){this.options.selecting&&this._restoreSelectionList();t._onRecordsLoaded.apply(this,arguments)},_onRowsRemoved:function(n,i){this.options.selecting&&i!="reloading"&&n.filter(".jtable-row-selected").length>0&&this._onSelectionChanged();t._onRowsRemoved.apply(this,arguments)},_createSelectAllHeader:function(){var t=this,i=n('<th class=""><\/th>').addClass("jtable-command-column-header jtable-column-header-selecting"),r;return this._jqueryuiThemeAddClass(i,"ui-state-default"),r=n("<div />").addClass("jtable-column-header-container").appendTo(i),t._$selectAllCheckbox=n('<input type="checkbox" />').appendTo(r).click(function(){if(t._$tableRows.length<=0){t._$selectAllCheckbox.attr("checked",!1);return}var n=t._$tableBody.find(">tr.jtable-data-row");t._$selectAllCheckbox.is(":checked")?t._selectRows(n):t._deselectRows(n);t._onSelectionChanged()}),i},_storeSelectionList:function(){var t=this;t.options.selecting&&(t._selectedRecordIdsBeforeLoad=[],t._getSelectedRows().each(function(){t._selectedRecordIdsBeforeLoad.push(t._getKeyValueOfRecord(n(this).data("record")))}))},_restoreSelectionList:function(){var t=this,r,i,u;if(t.options.selecting){for(r=0,i=0;i<t._$tableRows.length;++i)u=t._getKeyValueOfRecord(t._$tableRows[i].data("record")),n.inArray(u,t._selectedRecordIdsBeforeLoad)>-1&&(t._selectRows(t._$tableRows[i]),++r);t._selectedRecordIdsBeforeLoad.length>0&&t._selectedRecordIdsBeforeLoad.length!=r&&t._onSelectionChanged();t._selectedRecordIdsBeforeLoad=[];t._refreshSelectAllCheckboxState()}},_getSelectedRows:function(){return this._$tableBody.find(">tr.jtable-row-selected")},_makeRowSelectable:function(t){var i=this,r,u;i.options.selectOnRowClick&&t.click(function(){i._invertRowSelection(t)});i.options.selectingCheckboxes&&(r=n("<td><\/td>").addClass("jtable-selecting-column"),u=n('<input type="checkbox" />').appendTo(r),i.options.selectOnRowClick||u.click(function(){i._invertRowSelection(t)}),t.append(r))},_invertRowSelection:function(n){var t,i,r;n.hasClass("jtable-row-selected")?this._deselectRows(n):this._shiftKeyDown?(t=this._findRowIndex(n),i=this._findFirstSelectedRowIndexBeforeIndex(t)+1,i>0&&i<t?this._selectRows(this._$tableBody.find("tr").slice(i,t+1)):(r=this._findFirstSelectedRowIndexAfterIndex(t)-1,r>t?this._selectRows(this._$tableBody.find("tr").slice(t,r+1)):this._selectRows(n))):this._selectRows(n);this._onSelectionChanged()},_findFirstSelectedRowIndexBeforeIndex:function(n){for(var t=n-1;t>=0;--t)if(this._$tableRows[t].hasClass("jtable-row-selected"))return t;return-1},_findFirstSelectedRowIndexAfterIndex:function(n){for(var t=n+1;t<this._$tableRows.length;++t)if(this._$tableRows[t].hasClass("jtable-row-selected"))return t;return-1},_selectRows:function(n){this.options.multiselect||this._deselectRows(this._getSelectedRows());n.addClass("jtable-row-selected");this._jqueryuiThemeAddClass(n,"ui-state-highlight");this.options.selectingCheckboxes&&n.find(">td.jtable-selecting-column >input").prop("checked",!0);this._refreshSelectAllCheckboxState()},_deselectRows:function(n){n.removeClass("jtable-row-selected ui-state-highlight");this.options.selectingCheckboxes&&n.find(">td.jtable-selecting-column >input").prop("checked",!1);this._refreshSelectAllCheckboxState()},_refreshSelectAllCheckboxState:function(){if(this.options.selectingCheckboxes&&this.options.multiselect){var t=this._$tableRows.length,n=this._getSelectedRows().length;n==0?(this._$selectAllCheckbox.prop("indeterminate",!1),this._$selectAllCheckbox.attr("checked",!1)):n==t?(this._$selectAllCheckbox.prop("indeterminate",!1),this._$selectAllCheckbox.attr("checked",!0)):(this._$selectAllCheckbox.attr("checked",!1),this._$selectAllCheckbox.prop("indeterminate",!0))}},_onSelectionChanged:function(){this._trigger("selectionChanged",null,{})}})}(jQuery),function(n){var t={load:n.hik.jtable.prototype.load,_create:n.hik.jtable.prototype._create,_setOption:n.hik.jtable.prototype._setOption,_createRecordLoadUrl:n.hik.jtable.prototype._createRecordLoadUrl,_createJtParamsForLoading:n.hik.jtable.prototype._createJtParamsForLoading,_addRowToTable:n.hik.jtable.prototype._addRowToTable,_addRow:n.hik.jtable.prototype._addRow,_removeRowsFromTable:n.hik.jtable.prototype._removeRowsFromTable,_onRecordsLoaded:n.hik.jtable.prototype._onRecordsLoaded};n.extend(!0,n.hik.jtable.prototype,{options:{paging:!1,pageList:"normal",pageSize:10,pageSizes:[10,25,50,100,250,500],pageSizeChangeArea:!0,gotoPageArea:"combobox",messages:{pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count",gotoPageLabel:"Go to page"}},_$bottomPanel:null,_$pagingListArea:null,_$pageSizeChangeArea:null,_$pageInfoSpan:null,_$gotoPageArea:null,_$gotoPageInput:null,_totalRecordCount:0,_currentPageNo:1,_create:function(){t._create.apply(this,arguments);this.options.paging&&(this._loadPagingSettings(),this._createBottomPanel(),this._createPageListArea(),this._createGotoPageInput(),this._createPageSizeSelection())},_loadPagingSettings:function(){if(this.options.saveUserPreferences){var n=this._getCookie("page-size");n&&(this.options.pageSize=this._normalizeNumber(n,1,1e6,this.options.pageSize))}},_createBottomPanel:function(){this._$bottomPanel=n("<div />").addClass("jtable-bottom-panel").insertAfter(this._$table);this._jqueryuiThemeAddClass(this._$bottomPanel,"ui-state-default");n("<div />").addClass("jtable-left-area").appendTo(this._$bottomPanel);n("<div />").addClass("jtable-right-area").appendTo(this._$bottomPanel)},_createPageListArea:function(){this._$pagingListArea=n("<span><\/span>").addClass("jtable-page-list").appendTo(this._$bottomPanel.find(".jtable-left-area"));this._$pageInfoSpan=n("<span><\/span>").addClass("jtable-page-info").appendTo(this._$bottomPanel.find(".jtable-right-area"))},_createPageSizeSelection:function(){var t=this,r,i;if(t.options.pageSizeChangeArea){for(t._findIndexInArray(t.options.pageSize,t.options.pageSizes)<0&&(t.options.pageSizes.push(parseInt(t.options.pageSize)),t.options.pageSizes.sort(function(n,t){return n-t})),t._$pageSizeChangeArea=n("<span><\/span>").addClass("jtable-page-size-change").appendTo(t._$bottomPanel.find(".jtable-left-area")),t._$pageSizeChangeArea.append("<span>"+t.options.messages.pageSizeChangeLabel+": <\/span>"),r=n("<select><\/select>").appendTo(t._$pageSizeChangeArea),i=0;i<t.options.pageSizes.length;i++)r.append('<option value="'+t.options.pageSizes[i]+'">'+t.options.pageSizes[i]+"<\/option>");r.val(t.options.pageSize);r.change(function(){t._changePageSize(parseInt(n(this).val()))})}},_createGotoPageInput:function(){var t=this;t.options.gotoPageArea&&t.options.gotoPageArea!="none"&&(this._$gotoPageArea=n("<span><\/span>").addClass("jtable-goto-page").appendTo(t._$bottomPanel.find(".jtable-left-area")),this._$gotoPageArea.append("<span>"+t.options.messages.gotoPageLabel+": <\/span>"),t.options.gotoPageArea=="combobox"?(t._$gotoPageInput=n("<select><\/select>").appendTo(this._$gotoPageArea).data("pageCount",1).change(function(){t._changePage(parseInt(n(this).val()))}),t._$gotoPageInput.append('<option value="1">1<\/option>')):t._$gotoPageInput=n('<input type="text" maxlength="10" value="'+t._currentPageNo+'" />').appendTo(this._$gotoPageArea).keypress(function(n){if(n.which==13)n.preventDefault(),t._changePage(parseInt(t._$gotoPageInput.val()));else if(n.which==43)n.preventDefault(),t._changePage(parseInt(t._$gotoPageInput.val())+1);else if(n.which==45)n.preventDefault(),t._changePage(parseInt(t._$gotoPageInput.val())-1);else{var i=47<n.keyCode&&n.keyCode<58&&n.shiftKey==!1&&n.altKey==!1||n.keyCode==8||n.keyCode==9;i||n.preventDefault()}}))},_refreshGotoPageInput:function(){var r,n,t,i;if(this.options.gotoPageArea&&this.options.gotoPageArea!="none"){if(this._totalRecordCount<=0?this._$gotoPageArea.hide():this._$gotoPageArea.show(),this.options.gotoPageArea=="combobox"&&(r=this._$gotoPageInput.data("pageCount"),n=this._calculatePageCount(),r!=n)){for(this._$gotoPageInput.empty(),t=1,n>1e4?t=100:n>5e3?t=10:n>2e3?t=5:n>1e3&&(t=2),i=t;i<=n;i+=t)this._$gotoPageInput.append('<option value="'+i+'">'+i+"<\/option>");this._$gotoPageInput.data("pageCount",n)}this._$gotoPageInput.val(this._currentPageNo)}},load:function(){this._currentPageNo=1;t.load.apply(this,arguments)},_setOption:function(n,i){t._setOption.apply(this,arguments);n=="pageSize"&&this._changePageSize(parseInt(i))},_changePageSize:function(n){var i,t,r;n!=this.options.pageSize&&(this.options.pageSize=n,i=this._calculatePageCount(),this._currentPageNo>i&&(this._currentPageNo=i),this._currentPageNo<=0&&(this._currentPageNo=1),t=this._$bottomPanel.find(".jtable-page-size-change select"),t.length>0&&parseInt(t.val())!=n&&(r=t.find("option[value="+n+"]"),r.length>0&&t.val(n)),this._savePagingSettings(),this._reloadTable())},_savePagingSettings:function(){this.options.saveUserPreferences&&this._setCookie("page-size",this.options.pageSize)},_createRecordLoadUrl:function(){var n=t._createRecordLoadUrl.apply(this,arguments);return this._addPagingInfoToUrl(n,this._currentPageNo)},_createJtParamsForLoading:function(){var n=t._createJtParamsForLoading.apply(this,arguments);return this.options.paging&&(n.jtStartIndex=(this._currentPageNo-1)*this.options.pageSize,n.jtPageSize=this.options.pageSize),n},_addRowToTable:function(n,i,r){if(r&&this.options.paging){this._reloadTable();return}t._addRowToTable.apply(this,arguments)},_addRow:function(n,i){if(i&&i.isNewRow&&this.options.paging){this._reloadTable();return}t._addRow.apply(this,arguments)},_removeRowsFromTable:function(){t._removeRowsFromTable.apply(this,arguments);this.options.paging&&(this._$tableRows.length<=0&&this._currentPageNo>1&&--this._currentPageNo,this._reloadTable())},_onRecordsLoaded:function(n){this.options.paging&&(this._totalRecordCount=n.TotalRecordCount,this._createPagingList(),this._createPagingInfo(),this._refreshGotoPageInput());t._onRecordsLoaded.apply(this,arguments)},_addPagingInfoToUrl:function(n,t){if(!this.options.paging)return n;var i=(t-1)*this.options.pageSize,r=this.options.pageSize;return n+(n.indexOf("?")<0?"?":"&")+"jtStartIndex="+i+"&jtPageSize="+r},_createPagingList:function(){if(!(this.options.pageSize<=0)&&(this._$pagingListArea.empty(),!(this._totalRecordCount<=0))){var n=this._calculatePageCount();this._createFirstAndPreviousPageButtons();this.options.pageList=="normal"&&this._createPageNumberButtons(this._calculatePageNumbers(n));this._createLastAndNextPageButtons(n);this._bindClickEventsToPageNumberButtons()}},_createFirstAndPreviousPageButtons:function(){var t=n("<span><\/span>").addClass("jtable-page-number-first").html("&lt&lt").data("pageNumber",1).appendTo(this._$pagingListArea),i=n("<span><\/span>").addClass("jtable-page-number-previous").html("&lt").data("pageNumber",this._currentPageNo-1).appendTo(this._$pagingListArea);this._jqueryuiThemeAddClass(t,"ui-button ui-state-default","ui-state-hover");this._jqueryuiThemeAddClass(i,"ui-button ui-state-default","ui-state-hover");this._currentPageNo<=1&&(t.addClass("jtable-page-number-disabled"),i.addClass("jtable-page-number-disabled"),this._jqueryuiThemeAddClass(t,"ui-state-disabled"),this._jqueryuiThemeAddClass(i,"ui-state-disabled"))},_createLastAndNextPageButtons:function(t){var i=n("<span><\/span>").addClass("jtable-page-number-next").html("&gt").data("pageNumber",this._currentPageNo+1).appendTo(this._$pagingListArea),r=n("<span><\/span>").addClass("jtable-page-number-last").html("&gt&gt").data("pageNumber",t).appendTo(this._$pagingListArea);this._jqueryuiThemeAddClass(i,"ui-button ui-state-default","ui-state-hover");this._jqueryuiThemeAddClass(r,"ui-button ui-state-default","ui-state-hover");this._currentPageNo>=t&&(i.addClass("jtable-page-number-disabled"),r.addClass("jtable-page-number-disabled"),this._jqueryuiThemeAddClass(i,"ui-state-disabled"),this._jqueryuiThemeAddClass(r,"ui-state-disabled"))},_createPageNumberButtons:function(t){for(var r=0,i=0;i<t.length;i++)t[i]-r>1&&n("<span><\/span>").addClass("jtable-page-number-space").html("...").appendTo(this._$pagingListArea),this._createPageNumberButton(t[i]),r=t[i]},_createPageNumberButton:function(t){var i=n("<span><\/span>").addClass("jtable-page-number").html(t).data("pageNumber",t).appendTo(this._$pagingListArea);this._jqueryuiThemeAddClass(i,"ui-button ui-state-default","ui-state-hover");this._currentPageNo==t&&(i.addClass("jtable-page-number-active jtable-page-number-disabled"),this._jqueryuiThemeAddClass(i,"ui-state-active"))},_calculatePageCount:function(){var n=Math.floor(this._totalRecordCount/this.options.pageSize);return this._totalRecordCount%this.options.pageSize!=0&&++n,n},_calculatePageNumbers:function(n){var r,i;if(n<=4){for(r=[],i=1;i<=n;++i)r.push(i);return r}var t=[1,2,n-1,n],u=this._normalizeNumber(this._currentPageNo-1,1,n,1),f=this._normalizeNumber(this._currentPageNo+1,1,n,1);return this._insertToArrayIfDoesNotExists(t,u),this._insertToArrayIfDoesNotExists(t,this._currentPageNo),this._insertToArrayIfDoesNotExists(t,f),t.sort(function(n,t){return n-t}),t},_createPagingInfo:function(){var t,n,i;if(this._totalRecordCount<=0){this._$pageInfoSpan.empty();return}t=(this._currentPageNo-1)*this.options.pageSize+1;n=this._currentPageNo*this.options.pageSize;n=this._normalizeNumber(n,t,this._totalRecordCount,0);n>=t&&(i=this._formatString(this.options.messages.pagingInfo,t,n,this._totalRecordCount),this._$pageInfoSpan.html(i))},_bindClickEventsToPageNumberButtons:function(){var t=this;t._$pagingListArea.find(".jtable-page-number,.jtable-page-number-previous,.jtable-page-number-next,.jtable-page-number-first,.jtable-page-number-last").not(".jtable-page-number-disabled").click(function(i){i.preventDefault();t._changePage(n(this).data("pageNumber"))})},_changePage:function(n){if(n=this._normalizeNumber(n,1,this._calculatePageCount(),1),n==this._currentPageNo){this._refreshGotoPageInput();return}this._currentPageNo=n;this._reloadTable()}})}(jQuery),function(n){var t={_initializeFields:n.hik.jtable.prototype._initializeFields,_normalizeFieldOptions:n.hik.jtable.prototype._normalizeFieldOptions,_createHeaderCellForField:n.hik.jtable.prototype._createHeaderCellForField,_createRecordLoadUrl:n.hik.jtable.prototype._createRecordLoadUrl,_createJtParamsForLoading:n.hik.jtable.prototype._createJtParamsForLoading};n.extend(!0,n.hik.jtable.prototype,{options:{sorting:!1,multiSorting:!1,defaultSorting:""},_lastSorting:null,_initializeFields:function(){t._initializeFields.apply(this,arguments);this._lastSorting=[];this.options.sorting&&this._buildDefaultSortingArray()},_normalizeFieldOptions:function(n,i){t._normalizeFieldOptions.apply(this,arguments);i.sorting=i.sorting!=!1},_createHeaderCellForField:function(n,i){var r=t._createHeaderCellForField.apply(this,arguments);return this.options.sorting&&i.sorting&&this._makeColumnSortable(r,n),r},_createRecordLoadUrl:function(){var n=t._createRecordLoadUrl.apply(this,arguments);return this._addSortingInfoToUrl(n)},_buildDefaultSortingArray:function(){var t=this;n.each(t.options.defaultSorting.split(","),function(i,r){n.each(t.options.fields,function(n,i){if(i.sorting){var u=r.indexOf(n);u>-1&&(r.toUpperCase().indexOf(" DESC",u)>-1?t._lastSorting.push({fieldName:n,sortOrder:"DESC"}):t._lastSorting.push({fieldName:n,sortOrder:"ASC"}))}})})},_makeColumnSortable:function(t,i){var r=this;t.addClass("jtable-column-header-sortable").click(function(n){n.preventDefault();r.options.multiSorting&&n.ctrlKey||(r._lastSorting=[]);r._sortTableByColumn(t)});n.each(this._lastSorting,function(n,r){r.fieldName==i&&(r.sortOrder=="DESC"?t.addClass("jtable-column-header-sorted-desc"):t.addClass("jtable-column-header-sorted-asc"))})},_sortTableByColumn:function(n){this._lastSorting.length==0&&n.siblings().removeClass("jtable-column-header-sorted-asc jtable-column-header-sorted-desc");for(var t=0;t<this._lastSorting.length;t++)this._lastSorting[t].fieldName==n.data("fieldName")&&this._lastSorting.splice(t--,1);n.hasClass("jtable-column-header-sorted-asc")?(n.removeClass("jtable-column-header-sorted-asc").addClass("jtable-column-header-sorted-desc"),this._lastSorting.push({fieldName:n.data("fieldName"),sortOrder:"DESC"})):(n.removeClass("jtable-column-header-sorted-desc").addClass("jtable-column-header-sorted-asc"),this._lastSorting.push({fieldName:n.data("fieldName"),sortOrder:"ASC"}));this._reloadTable()},_addSortingInfoToUrl:function(t){if(!this.options.sorting||this._lastSorting.length==0)return t;var i=[];return n.each(this._lastSorting,function(n,t){i.push(t.fieldName+" "+t.sortOrder)}),t+(t.indexOf("?")<0?"?":"&")+"jtSorting="+i.join(",")},_createJtParamsForLoading:function(){var r=t._createJtParamsForLoading.apply(this,arguments),i;return this.options.sorting&&this._lastSorting.length&&(i=[],n.each(this._lastSorting,function(n,t){i.push(t.fieldName+" "+t.sortOrder)}),r.jtSorting=i.join(",")),r}})}(jQuery),function(n){var t={_create:n.hik.jtable.prototype._create,_normalizeFieldOptions:n.hik.jtable.prototype._normalizeFieldOptions,_createHeaderCellForField:n.hik.jtable.prototype._createHeaderCellForField,_createCellForRecordField:n.hik.jtable.prototype._createCellForRecordField};n.extend(!0,n.hik.jtable.prototype,{options:{tableId:undefined,columnResizable:!0,columnSelectable:!0},_$columnSelectionDiv:null,_$columnResizeBar:null,_cookieKeyPrefix:null,_currentResizeArgs:null,_create:function(){t._create.apply(this,arguments);this._createColumnResizeBar();this._createColumnSelection();this.options.saveUserPreferences&&this._loadColumnSettings();this._normalizeColumnWidths()},_normalizeFieldOptions:function(n,i){t._normalizeFieldOptions.apply(this,arguments);this.options.columnResizable&&(i.columnResizable=i.columnResizable!=!1);i.visibility||(i.visibility="visible")},_createHeaderCellForField:function(n,i){var r=t._createHeaderCellForField.apply(this,arguments);return this.options.columnResizable&&i.columnResizable&&n!=this._columnList[this._columnList.length-1]&&this._makeColumnResizable(r),i.visibility=="hidden"&&r.hide(),r},_createCellForRecordField:function(n,i){var r=t._createCellForRecordField.apply(this,arguments),u=this.options.fields[i];return u.visibility=="hidden"&&r.hide(),r},changeColumnVisibility:function(n,t){this._changeColumnVisibilityInternal(n,t);this._normalizeColumnWidths();this.options.saveUserPreferences&&this._saveColumnSettings()},_changeColumnVisibilityInternal:function(n,t){var u=this._columnList.indexOf(n),i,r;if(u<0){this._logWarn('Column "'+n+'" does not exist in fields!');return}if(["visible","hidden","fixed"].indexOf(t)<0){this._logWarn('Visibility value is not valid: "'+t+'"! Options are: visible, hidden, fixed.');return}(i=this.options.fields[n],i.visibility!=t)&&(r=this._firstDataColumnOffset+u+1,i.visibility!="hidden"&&t=="hidden"?this._$table.find(">thead >tr >th:nth-child("+r+"),>tbody >tr >td:nth-child("+r+")").hide():i.visibility=="hidden"&&t!="hidden"&&this._$table.find(">thead >tr >th:nth-child("+r+"),>tbody >tr >td:nth-child("+r+")").show().css("display","table-cell"),i.visibility=t)},_createColumnSelection:function(){var t=this;this._$columnSelectionDiv=n("<div />").addClass("jtable-column-selection-container").appendTo(t._$mainContainer);this._$table.children("thead").bind("contextmenu",function(i){if(t.options.columnSelectable){i.preventDefault();n("<div />").addClass("jtable-contextmenu-overlay").click(function(){n(this).remove();t._$columnSelectionDiv.hide()}).bind("contextmenu",function(){return!1}).insertBefore(t._$columnSelectionDiv);t._fillColumnSelection();var e=t._$mainContainer.offset(),o=i.pageY-e.top,u=i.pageX-e.left,r=100,f=t._$mainContainer.width();f>r&&u>f-r&&(u=f-r);t._$columnSelectionDiv.css({left:u,top:o,"min-width":r+"px"}).show()}})},_fillColumnSelection:function(){for(var u=this,f=n("<ul><\/ul>").addClass("jtable-column-select-list"),i=0;i<this._columnList.length;i++){var t=this._columnList[i],r=this.options.fields[t],o=n("<li><\/li>").appendTo(f),s=n('<label for="jt-mi-'+t+'"><\/label>').append(n("<span>"+(r.title||t)+"<\/span>")).appendTo(o),e=n('<input type="checkbox" id="jt-mi-'+t+'" name="'+t+'">').prependTo(s).click(function(){var t=n(this),i=t.attr("name"),r=u.options.fields[i];r.visibility!="fixed"&&u.changeColumnVisibility(i,t.is(":checked")?"visible":"hidden")});r.visibility!="hidden"&&e.attr("checked","checked");r.visibility=="fixed"&&e.attr("disabled","disabled")}this._$columnSelectionDiv.html(f)},_createColumnResizeBar:function(){this._$columnResizeBar=n("<div />").addClass("jtable-column-resize-bar").appendTo(this._$mainContainer).hide()},_makeColumnResizable:function(t){var i=this;n("<div />").addClass("jtable-column-resize-handler").appendTo(t.find(".jtable-column-header-container")).mousedown(function(r){var f,u,e,o,s;(r.preventDefault(),r.stopPropagation(),f=i._$mainContainer.offset(),u=t.nextAll("th.jtable-column-header:visible:first"),u.length)&&(e=10,i._currentResizeArgs={currentColumnStartWidth:t.outerWidth(),minWidth:e,maxWidth:t.outerWidth()+u.outerWidth()-e,mouseStartX:r.pageX,minResizeX:function(){return this.mouseStartX-(this.currentColumnStartWidth-this.minWidth)},maxResizeX:function(){return this.mouseStartX+(this.maxWidth-this.currentColumnStartWidth)}},o=function(n){if(i._currentResizeArgs){var t=i._normalizeNumber(n.pageX,i._currentResizeArgs.minResizeX(),i._currentResizeArgs.maxResizeX());i._$columnResizeBar.css("left",t-f.left+"px")}},s=function(r){if(i._currentResizeArgs){n(document).unbind("mousemove",o);n(document).unbind("mouseup",s);i._$columnResizeBar.hide();var h=r.pageX-i._currentResizeArgs.mouseStartX,f=i._normalizeNumber(i._currentResizeArgs.currentColumnStartWidth+h,i._currentResizeArgs.minWidth,i._currentResizeArgs.maxWidth),c=u.outerWidth()+(i._currentResizeArgs.currentColumnStartWidth-f),e=t.data("width-in-percent")/i._currentResizeArgs.currentColumnStartWidth;t.data("width-in-percent",f*e);u.data("width-in-percent",c*e);t.css("width",t.data("width-in-percent")+"%");u.css("width",u.data("width-in-percent")+"%");i._normalizeColumnWidths();i._currentResizeArgs=null;i.options.saveUserPreferences&&i._saveColumnSettings()}},i._$columnResizeBar.show().css({top:t.offset().top-f.top+"px",left:r.pageX-f.left+"px",height:i._$table.outerHeight()+"px"}),n(document).bind("mousemove",o),n(document).bind("mouseup",s))})},_normalizeColumnWidths:function(){var f=this._$table.find(">thead th.jtable-command-column-header").data("width-in-percent",1).css("width","1%"),i=this._$table.find(">thead th.jtable-column-header"),r=0,t,u;i.each(function(){var t=n(this);t.is(":visible")&&(r+=t.outerWidth())});t={};u=100-f.length;i.each(function(){var i=n(this),f,e;i.is(":visible")&&(f=i.data("fieldName"),e=i.outerWidth()*u/r,t[f]=e)});i.each(function(){var i=n(this),r;i.is(":visible")&&(r=i.data("fieldName"),i.data("width-in-percent",t[r]).css("width",t[r]+"%"))})},_saveColumnSettings:function(){var i=this,t="";this._$table.find(">thead >tr >th.jtable-column-header").each(function(){var r=n(this),u=r.data("fieldName"),f=r.data("width-in-percent"),e=i.options.fields[u].visibility,o=u+"="+e+";"+f;t=t+o+"|"});this._setCookie("column-settings",t.substr(0,t.length-1))},_loadColumnSettings:function(){var i=this,r=this._getCookie("column-settings"),t,u;r&&(t={},n.each(r.split("|"),function(n,i){var r=i.split("="),f=r[0],u=r[1].split(";");t[f]={columnVisibility:u[0],columnWidth:u[1]}}),u=this._$table.find(">thead >tr >th.jtable-column-header"),u.each(function(){var u=n(this),r=u.data("fieldName"),f=i.options.fields[r];t[r]&&(f.visibility!="fixed"&&i._changeColumnVisibilityInternal(r,t[r].columnVisibility),u.data("width-in-percent",t[r].columnWidth).css("width",t[r].columnWidth+"%"))}))}})}(jQuery),function(n){var t={_removeRowsFromTable:n.hik.jtable.prototype._removeRowsFromTable};n.extend(!0,n.hik.jtable.prototype,{options:{openChildAsAccordion:!1},openChildTable:function(t,i,r){var u=this;i.jqueryuiTheme==undefined&&(i.jqueryuiTheme=u.options.jqueryuiTheme);i.showCloseButton=i.showCloseButton!=!1;i.showCloseButton&&!i.closeRequested&&(i.closeRequested=function(){u.closeChildTable(t)});u.options.openChildAsAccordion&&t.siblings(".jtable-data-row").each(function(){u.closeChildTable(n(this))});u.closeChildTable(t,function(){var e=u.getChildRow(t).children("td").empty(),f=n("<div />").addClass("jtable-child-table-container").appendTo(e);e.data("childTable",f);f.jtable(i);u.openChildRow(t);f.hide().slideDown("fast",function(){r&&r({childTable:f})})})},closeChildTable:function(n,t){var u=this,r=this.getChildRow(n).children("td"),i=r.data("childTable");if(!i){t&&t();return}r.data("childTable",null);i.slideUp("fast",function(){i.jtable("destroy");i.remove();u.closeChildRow(n);t&&t()})},isChildRowOpen:function(n){return this.getChildRow(n).is(":visible")},getChildRow:function(n){return n.data("childRow")||this._createChildRow(n)},openChildRow:function(n){var t=this.getChildRow(n);return t.is(":visible")||t.show(),t},closeChildRow:function(n){var t=this.getChildRow(n);t.is(":visible")&&t.hide()},_removeRowsFromTable:function(i,r){r=="deleted"&&i.each(function(){var i=n(this),t=i.data("childRow");t&&t.remove()});t._removeRowsFromTable.apply(this,arguments)},_createChildRow:function(t){var r=this._$table.find("thead th").length,i=n("<tr><\/tr>").addClass("jtable-child-row").append('<td colspan="'+r+'"><\/td>');return t.after(i),t.data("childRow",i),i.hide(),i}})}(jQuery),function(n){var t={_createInputForRecordField:n.hik.jtable.prototype._createInputForRecordField};n.extend(!0,n.hik.jtable.prototype,{options:{otherAttributes:!1},_createInputForRecordField:function(n){var i=t._createInputForRecordField.apply(this,arguments),r;return this.options.otherAttributes?(r=this.options.fields[n.fieldName].otherAttributes,r&&i.find("#Edit-"+n.fieldName).attr(r),i):i}})}(jQuery),function(n){var t={_createInputForRecordField:n.hik.jtable.prototype._createInputForRecordField};n.extend(!0,n.hik.jtable.prototype,{options:{otherAttributes:!1},_createInputForRecordField:function(n){var i=t._createInputForRecordField.apply(this,arguments),r;return this.options.otherAttributes?(r=this.options.fields[n.fieldName].otherAttributes,r&&i.find("#Edit-"+n.fieldName).after('<span class="text-danger" data-valmsg-for="'+n.fieldName+'" data-valmsg-replace="true"><\/span>'),i):i}})}(jQuery),function(n){n("body").hasClass("rtls")&&n.extend(!0,n.hik.jtable.prototype.options.messages,{serverCommunicationError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø¹ÙØ¯ ÙØ­Ø§ÙÙØ© Ø§ÙØ§ØªØµØ§Ù Ø¨Ø§ÙØ®Ø§Ø¯Ù(Ø§ÙØ³ÙØ±ÙØ±(",loadingMessage:"Ø¬Ø§Ø±Ù Ø§ÙØªØ­ÙÙÙ",noDataAvailable:"ÙØ§ ÙÙØ¬Ø¯ Ø¨ÙØ§ÙØ§Øª",addNewRecord:"Ø£Ø¶Ø§ÙØ© Ø³Ø¬Ù Ø¬Ø¯ÙØ¯",editRecord:"ØªØ¹Ø¯ÙÙ Ø³Ø¬Ù",areYouSure:"ÙÙ Ø£ÙØª ÙØªØ§ÙØ¯Ø",deleteConfirmation:"ÙØ°Ø§ Ø§ÙØ³Ø¬Ù Ø³ÙÙ ÙØªÙ Ø­Ø°ÙÙ. ÙÙ ØªØ±ÙØ¯ Ø¨Ø§ÙØªØ§ÙÙØ¯ Ø­Ø°Ù ÙØ°Ø§ Ø§ÙØ³Ø¬ÙØ",save:"Ø­ÙØ¸",saving:"Ø¬Ø§Ø±Ù Ø§ÙØ­ÙØ¸",cancel:"Ø¥ÙØºØ§Ø¡",deleteText:"Ø­Ø°Ù",deleting:"Ø¬Ø§Ø±Ù Ø§ÙØ­Ø°Ù",error:"Ø®Ø·Ø£",close:"Ø§ØºÙØ§Ù",detail:"Ø¹Ø±Ø¶ Ø§ÙØªÙØ§ØµÙÙ",cannotLoadOptionsFor:"ÙØ§ ÙÙÙÙ ØªØ­ÙÙÙ Ø§ÙØ®ÙØ§Ø±Ø§Øª ÙÙØ­ÙÙ {0}",pagingInfo:"Ø¥Ø¸ÙØ§Ø± {0}-{1} ÙÙ {2}",pageSizeChangeLabel:"Ø¹Ø¯Ø¯ Ø§ÙØ³Ø¬ÙØ§Øª ÙÙ Ø§ÙØµÙØ­Ø©",gotoPageLabel:"Ø§ÙØ§ÙØªÙØ§Ù Ø¥ÙÙ ØµÙØ­Ø©",canNotDeletedRecords:"ÙØ§ ÙÙÙÙ Ø­Ø°Ù {0} ÙÙ {1} Ø§ÙØ³Ø¬ÙØ§Øª!",deleteProggress:"Ø­Ø°Ù {0} ÙÙ {1} Ø§ÙØ³Ø¬ÙØ§Øª , Ø¬Ø§Ø±Ù Ø§ÙØ­Ø°Ù"})}(jQuery);